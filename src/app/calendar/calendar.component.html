<div class="jumbotron">
  <div class="container">
    <h1 class="display-3">Calendario</h1>
    <hr class="my-4">
    <p>Il calendario Ã¨ una progressione matematica di sorprese arbitrarie.</p>
    <small>(Paul Scott)</small>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-md-10">
      <ul class="list-group" title="Eventi del {{ model.day }}/{{ model.month }}/{{ model.year }}">
        <div *ngIf="!tasks.length" class="list-group-item">Nessun evento nella data {{ model.day }}/{{ model.month }}/{{ model.year }}</div>
        <calendar-detail *ngFor="let task of tasks" [task]="task"></calendar-detail>
      </ul>
    </div>
    <div class="col-md-2">
      <!-- <button class="btn btn-sm btn-outline-primary" (click)="selectToday();dp.navigateTo();">Vai ad oggi</button>
      <hr/> -->
      <ngb-datepicker #dp [(ngModel)]="model" (navigate)="navigate($event)" [dayTemplate]="customDay"></ngb-datepicker>
      <br>
      <div class="row">
        <small>Legenda:</small>
        <span class="badge badge-warning">Evento</span>
        <span class="badge badge-primary">Selezionato</span>
      </div>
    </div>
  </div>
</div>

<ng-template #customDay let-date="date" let-currentMonth="currentMonth" let-selected="selected">
  <div class="day btn-light"
    [ngClass]="{'bg-primary': selected, 'text-white': selected, 'text-muted': date.month !== currentMonth, 'bg-warning': (!selected && hasTask(date)) }"
   (click)="loadTasks(date)">
    {{ date.day }}
  </div>
</ng-template>
