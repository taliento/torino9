<div class="list-group-item list-group-item-action flex-column align-items-start" style="margin-bottom:10px">
  <div class="d-flex w-100 justify-content-between">
    <h5 class="mb-1">{{task.title}}</h5>
    <small>Il {{ task.date.day }}/{{ task.date.month }}/{{ task.date.year }} <span *ngIf="task.time">- {{ task.time.hour }}:{{ task.time.minute }}</span></small>
  </div>
  <div class="mb-1" [froalaView]="task.text"></div>
  <small *ngIf="task.insertDate">Inserito il {{task.insertDate | date:'dd/MM/yyyy'}}</small>

  <div class="pull-right">
    <button type="button" class="btn btn-outline-primary btn-sm" (click)="openUpdateModal()">
      Modifica  Evento
    </button>
    <button type="button" class="btn btn-outline-danger btn-sm" (click)="confirmDialog.open()">
      Elimina  Evento
    </button>
  </div>

</div>

<ng-template #updateEvent let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Modifica {{task.title}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <label for="updateTitle">Titolo</label>
        <input type="text" class="form-control" id="updateTitle" name="title" [(ngModel)]="task.title" placeholder="Titolo">
      </div>
      <div class="form-group">
        <label for="updateText">Testo</label>
        <div [(froalaModel)]="task.text" id="updateText" name="text" [froalaEditor]></div>
        <!-- <textarea rows="5" class="form-control" id="updateText" name="text" [(ngModel)]="task.text" placeholder="Testo"></textarea> -->
      </div>
      <div class="form-group">
        <label for="insertTime">Ora inizio</label>
        <ngb-timepicker id="insertTime" name="time" [(ngModel)]="task.time"></ngb-timepicker>
      </div>
    </form>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-success" (click)="update();c('Close click');">Conferma</button>
    <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Annulla</button>
  </div>
</ng-template>

<!--delete event confirm -->
<app-confirm-dialog #confirmDialog [title]="confirmTitle" [text]="confirmText" (confirm)="deleteEvent()"></app-confirm-dialog>
